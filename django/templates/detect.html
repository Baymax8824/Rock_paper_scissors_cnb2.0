
 <html>
  <link id="favicon" rel="shortcut icon" href="../static/admin/img/fav.png" type="image/png"/>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto&family=Sacramento&display=swap" rel="stylesheet">
        <link href = "../static/admin/css/style.css" rel = "stylesheet">
        
    </head>
    <body>
        <nav class="navbar">
            <a class="navbar-brand" href="#">
              <img class = "logobar" src="../static/admin/img/logo.png" alt="">
            </a>
            <a class = "navbar-brand" href = "https://github.com/LakshitXD/Rock_paper_scissors_cnb2.0"><img class = "logobar1" src ="../static/admin/img/pngfind.com-github-logo-png-1766942 (1).png"></a>
          </nav>
          <div class = "content">
              <img class = "plwithtrump" src = "../static/admin/img/trump.png">
              
              <br>
              <br>
                <img id = "yeye" src = ""><br><br>
            <div class ="subcontent">
            <a class = {{result}}></a>
            <!-- <button class = "Gobtn" onclick = "" id = "okbtn">GO</button></div> -->
          </div>
          <div class = "allo">{{result}}</div>
          <div class ="footer"></div>
         
          <script type ="text/javascript">
          var res = document.getElementsByClassName("allo")[0].innerHTML;
          
           let timeWhenLastUpdate;
       let timeFromLastUpdate;
       let frameNumber = 1;
       var totalFrames = 78;
        var animationDuration = 4000;
    
      const tagvar = document.getElementById("yeye");
      var idx = Math.floor(Math.random()*5);
          // let player,trump2;

          var arr = ["Rock","Paper","Scissors"];
          var trump=arr[Math.floor(Math.random()*3)];
          var lose = [["l1.mp3",3000],["l2.mp3",4000],["l3.mp3",4000],["l4.mp3",2000],["l5.mp3",2000]];
          var win = [["w1.mp3",5000],["w2.mp3",3000],["w3.mp3",4000],["w4.mp3",4000],["w5.mp3",2000]];
          
          console.log(trump);
          console.log(res);
          
          if(trump===res){
            document.getElementsByClassName("allo")[0].innerHTML="<p class = 'result'>Draw</p>";
            let audio1 = new Audio("../static/admin/audio/draw.mp3");
            audio1.play();
            console.log(audio1.duration);
            animationDuration= 5000;
            step(1);
          }
          else if(trump==="Rock" && res ==="Paper"){
            document.getElementsByClassName("allo")[0].innerHTML="<p class = 'result'>Player Wins</p>";
            let audio1 = new Audio("../static/admin/audio/"+win[idx][0]);
            audio1.play();
            animationDuration=win[idx][1];
            step(1);
          }
          else if(trump ==="Paper"&& res ==="Rock"){
            document.getElementsByClassName("allo")[0].innerHTML="<p class = 'result'>Trump Wins</p>";
            let audio1 = new Audio("../static/admin/audio/"+lose[idx][0]);
            audio1.play();
            animationDuration=lose[idx][1];
            step(1);
          }
          else if(trump ==="Paper"&& res ==="Scissors"){
             document.getElementsByClassName("allo")[0].innerHTML="<p class = 'result'>Player Wins</p>";
            let audio1 = new Audio("../static/admin/audio/"+win[idx][0]);
            audio1.play();
            animationDuration=win[idx][1];
            step(1);
            }

          else if(trump ==="Scissors"&& res ==="Paper"){
            document.getElementsByClassName("allo")[0].innerHTML="<p class = 'result'>Trump Wins</p>";
            let audio1 = new Audio("../static/admin/audio/"+lose[idx][0]);
            audio1.play();
            animationDuration=lose[idx][1];
            step(1);
          }
          else if(trump ==="Scissors"&& res ==="Rock"){
             document.getElementsByClassName("allo")[0].innerHTML="<p class = 'result'>Player Wins</p>";
            let audio1 = new Audio("../static/admin/audio/"+win[idx][0]);
            audio1.play();
            animationDuration=win[idx][1];
            step(1);
          }
          else if(trump ==="Rock"&& res ==="Scissors"){
           document.getElementsByClassName("allo")[0].innerHTML="<p class = 'result'>Trump Wins</p>";
            let audio1 = new Audio("../static/admin/audio/"+lose[idx][0]);
            audio1.play();
            animationDuration=lose[idx][1];
            step(1);

          }
          document.getElementsByClassName("allo")[0].style.display="block";
        
       console.log(tagvar);
      //  var totalFrames = 78;
     
      
       function step(startTime) {
         timePerFrame = animationDuration/totalFrames;
  if (!timeWhenLastUpdate) timeWhenLastUpdate = startTime;

  timeFromLastUpdate = startTime - timeWhenLastUpdate;

  if (timeFromLastUpdate > timePerFrame) {
    tagvar.setAttribute("src","../static/admin/img/trump/ezgif-frame-"+pad(frameNumber)+".jpg");
    timeWhenLastUpdate = startTime;

    if (frameNumber >= totalFrames) {
      frameNumber = 1;
      still(1);
      return 1;
    } else {
       frameNumber = frameNumber + 1;
    }        
  }

  requestAnimationFrame(step);
}
function pad(num) {
    if(num<10)
    return "00"+num;
    else
    return "0"+num;
}
function still(startTime){
  timePerFrame = 100;
  if (!timeWhenLastUpdate) timeWhenLastUpdate = startTime;
  
  timeFromLastUpdate = startTime - timeWhenLastUpdate;
  
  if (timeFromLastUpdate > timePerFrame) {
    tagvar.setAttribute("src","../static/admin/img/ezgif-frame-"+pad(frameNumber)+".jpg");
    timeWhenLastUpdate = startTime;

    if (frameNumber >= 10) {
      frameNumber = 1;
    } else {
       frameNumber = frameNumber + 1;
    }        
  }
  requestAnimationFrame(still);


}
          </script>
    </body>
</html>